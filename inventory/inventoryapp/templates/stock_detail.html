{% extends "base.html" %}
{% load bootstrap4 %}
{% load render_table from django_tables2 %}
{% block content %}
{% load myapp_tags %}
{% load crispy_forms_tags %}

<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>

<body>

            <div class="container-fluid">
                 <div class="col" id="main">
                        <br>
                <table width="100%">
                <tr>
                <h2> Απόθεμα
                    {{ object.code }} {{ object.name }} {{ object.id }}
                </h2>
                </tr>
                <tr>
                    <td width="40%">
                    {% crispy form 'bootstrap4'%}
                    </td>
                    <td></td>
                   </tr>
                </table>
                    </div>

      </div>
</body>
{% endblock %}
{% block footer %}


{{ form.media }}

<script>
(function($) {
    $('#add-form').click(function() {
        var index = $('#id_inline_test_models-TOTAL_FORMS').val()
        var newTable = $('#id_inline_test_models-__prefix__-DELETE').parents('table').clone()
        newTable.find(':input').each(function() {
            for (attr of ['name', 'id'])
                $(this).attr(
                    attr,
                    $(this).attr(attr).replace('__prefix__', index)
                )
        })
        newTable.insertBefore($(this))
        $('#id_inline_test_models-TOTAL_FORMS').val(
            parseInt($('#id_inline_test_models-TOTAL_FORMS').val()) + 1
        )
        newTable.slideDown()
    })
})($)
</script>
{% endblock %}